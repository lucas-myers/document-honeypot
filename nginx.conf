user nginx;                         # Run Nginx as the 'nginx' user
worker_processes 1;                 # Use one worker process (fine for small setups)
error_log /var/log/nginx/error.log warn;  # Log errors (warn level or higher)
pid /var/run/nginx.pid;             # Store the Nginx process ID here

events {
    worker_connections 1024;        # Each worker can handle up to 1024 connections
}

http {
    access_log /var/log/nginx/access.log combined;  # Log all HTTP requests

    server {
        listen 80;                 # Listen on port 80 (HTTP)
        server_name _;             # Catch-all for any domain or IP

        root /usr/share/nginx/html; # Document root (where your static files are served from)
        index index.html;           # Default page if no file specified

        # Serve static files from /usr/share/nginx/html
        location / {
            try_files $uri $uri/ =404;  # Try exact file, then directory, else return 404
        }

        # Optional route for submitting data to a honeypot app
        location /submit {
            proxy_pass http://honeypot_bait:8080;   # Forward requests to a backend app (if running)
        }
    }
}
